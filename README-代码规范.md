# 代码规范与质量检查系统

## 概述

这套代码规范系统包含两个主要的 slash 命令，用于确保代码质量和避免功能失效：

- `/speckit.constitution` - 代码规范宪章
- `/speckit.checklist` - 代码质量检查清单生成器

## 使用场景

### 1. 修改代码前 - 了解规范
```bash
/speckit.constitution
```
查看和更新项目的代码规范，了解：
- JavaScript代码风格要求
- 注释和文档规范
- 错误处理标准
- 安全性要求
- 性能优化指导

### 2. 修改代码后 - 质量检查
```bash
/speckit.checklist 修改了用户管理模块的登录功能
```
根据具体的代码修改内容，生成针对性的质量检查清单。

## 核心原则

### 代码修改流程
1. **准备阶段** - 备份当前状态
2. **开发阶段** - 遵循代码规范
3. **检查阶段** - 使用检查清单验证
4. **提交阶段** - 确保所有检查项通过

### 质量门禁标准
只有满足以下条件的代码才能提交：
- ✅ 无语法错误，代码可正常运行
- ✅ 原有功能测试通过
- ✅ 新功能按需求正确实现
- ✅ 代码风格符合项目规范
- ✅ 添加必要的注释和文档
- ✅ 无明显的性能和安全隐患

## 检查清单类型

根据修改内容的不同，系统会生成不同类型的检查清单：

### JavaScript 代码修改
- 代码风格检查（缩进、命名、注释）
- 功能正确性检查（接口兼容、错误处理）
- 集成和性能检查（模块集成、性能影响）

### CSS 样式修改
- 样式规范检查（命名、主题色、响应式）
- 视觉效果检查（多屏幕、主题兼容、交互状态）

### HTML 结构修改
- 结构规范检查（语义化、无障碍属性）
- 可访问性检查（标签、属性完整性）

## 实际使用示例

### 示例1：添加新功能
```bash
# 1. 查看代码规范
/speckit.constitution

# 2. 开发功能...

# 3. 生成检查清单
/speckit.checklist 新增了用户头像上传功能，包括图片压缩和格式验证

# 4. 按清单逐项检查
# 5. 修复发现的问题
# 6. 提交代码
```

### 示例2：修复Bug
```bash
# 1. 生成Bug修复检查清单
/speckit.checklist 修复了主题切换时导致的样式错乱问题

# 2. 重点检查原有功能是否受影响
# 3. 验证Bug确实被修复
# 4. 提交修复
```

### 示例3：代码重构
```bash
# 1. 生成重构检查清单
/speckit.checklist 重构了数据管理模块，优化了API调用逻辑

# 2. 重点检查向后兼容性
# 3. 验证性能改进效果
# 4. 确保所有功能正常
```

## 检查清单文件格式

生成的检查清单包含：
- 修改概述和风险等级
- 必需检查项（阻止提交如果失败）
- 推荐检查项（建议修复）
- 检查结果记录空间
- 通过/失败汇总统计

## 最佳实践

1. **预防为主**：修改前先了解规范要求
2. **增量检查**：每次小的修改都进行检查
3. **及时记录**：检查过程中记录问题和解决方案
4. **持续改进**：根据实际使用情况更新规范

## 注意事项

- 系统会根据项目的JavaScript文件自动调整检查重点
- 检查清单是动态生成的，只包含与当前修改相关的项目
- 所有必需检查项都必须通过才能提交代码
- 推荐检查项建议修复，但不强制要求

通过使用这套代码规范系统，可以有效避免代码风格不一致、功能失效、性能问题等常见问题，确保项目的长期稳定发展。